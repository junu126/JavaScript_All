# 사용자 에러 던지기

자바스크립트에서 에러를 발생시키는 것도 능력이 필요합니다. 에러를 어디에 발생시켜야 좋을지 감을 잡으려면 경험이 있어야 하지만 일단 감을 잡으면 디버깅하는 시간이 줄어들고 자신이 짠 코드를 보며 느끼는 만족도 높아집니다.

## 5.1 에러의 본질
프로그래밍 에러는 예상치 못하게 발생합니다. 함수에 잘못된 값을 전달하거나 산술 연산에 잘못된 연산자를 입력해 발생하기도 합니다. 프로그래밍 언어는 코드가 정해진 기본 규칙에서 벗어나면 개발자에게 코드를 수정하라는 의미로 에러를 발생시킵니다. 만약 에러가 발생하지 않는다면 디버깅은 거의 불가능해 집니다. 에러 수정은 고사하고 문제 발생을 알아차리기까지 한참이 걸릴 수 있습니다. 이러한 의미에서 본다면 에러는 개발자의 적이 아니라 오히려 도움이 되는 친구입니다.

그러나 에러가 예상치 못한 때에 예상치 못한 곳에서 발생하면 문제가 됩니다. 게다가 무엇이 잘못되었는지 파악하기에는 기본 에러 메시지 내용이 너무 간단합니다. 특히 오래된 버전의 IE에서는 더 심각한데 자바스크립트 에러 메시지는 기본적으로 너무 함축적이고 아리송해서 문제 해결에 도움이 되지 않습니다. 만약 에러 메시지가 '이러이러한 문제가 발생해 함수 실행에 실패했습니다.' 라고 상세하게 알려준다면 디버깅하기가 훨씬 수월해 질 겁니다. 여기서 '수월해진다'는 점이 바로 사용자 정의 에러의 장점입니다.

사용자 에러를 발생시킬 때는 자바스크립트에서 언제 에러가 발생하는지를 생각해보면 도움이 됩니다. 코드 모든 곳에 에러가 발생할 수 있다라고 생각하기 보다는 에러가 발생할만한 곳을 찾는 것이 더 쉽습니다. 이는 코드를 짤 때만이 아니라 제품을 디자인할 때도 많이 사용하는 방식입니다.

## 5.2 에러 던지기
자바스크립트는 특성상 디버깅이 힘들어 에러를 던지는 것은 다른 언어에서보다 더 가치 있는 기능입니다. throw 연산자에 에러로 던질 객체를 넣으면 에러를 발생시킬 수 있습니다. 어느 타입의 객체든 에러로 던질 수 있지만, 보통 Error 객체를 가장 많이 사용합니다.
```javascript
throw new Error('뭔가 나쁜 일이 일어났어요.');
```
기본 내장된 Error 타입은 모든 자바스크립트 구현체에서 사용할 수 있고 Error의 생성자는 에러 메시지를 인자로 받습니다. 하지만 이 방법으로 에러를 발생시키면 try...catch 문으로 에러를 잡을 수 없을 뿐만 아니라 브라우저는 다른 일반적인 에러를 처리하듯이 메시지 값을 보여주기만 합니다.